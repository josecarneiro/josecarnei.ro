@import '../styles/utilities';

$skew: 1;
$dot-size: 1px;
$dot-space: 1rem;

@mixin dot-background(
  $background-overlay,
  $background,
  $blend-mode: darken,
  $dot-color: black
) {
  $transparent: rgba(0, 0, 0, 0);
  background: $background-overlay,
    radial-gradient($dot-color $dot-size, $transparent 0), $background;
  background-blend-mode: $blend-mode, normal, normal;
  background-size: 100% 100%, $dot-space * 2 $dot-space * 2, 100% 100%;
}

%AppSkew {
  $vertical-difference: 0.5;
  $horizontal-difference: 0.5;
  height: 100% * (1 + $vertical-difference);
  margin: 0 -$horizontal-difference * 100%;
  transform: rotateX($skew * 5deg) rotateY($skew * 20deg) skewY($skew * 10deg);
}

$gray-light: hsl(0, 0%, 90%);
$gray: hsl(0, 0%, 60%);
$gray-dark: hsl(0, 0%, 30%);

.App {
  --background-color: white;
  --text-color: black;
  --trailing-text-color: var(--background-color);
  // --trailing-text-outline-color: var(--text-color);
  // --trailing-text-outline-color: #{$gray-dark};
  --trailing-text-outline-color: #{$gray-dark};
  --anchor-tag-color: var(--text-color);

  --background-overlay: linear-gradient(transparent, transparent);
  --background: linear-gradient(white, white);
  --background-blend-mode: darken;
  --background-dot-color: black;
  --background-dot-color: hsl(0, 0%, 20%);

  &.dark {
    --text-color: white;
    // --trailing-text-outline-color: #{$gray-light};
    --trailing-text-outline-color: hsla(0, 100%, 100%, 0.8);
    --background-color: black;
    --background: linear-gradient(black, black);
    --background-blend-mode: lighten;
    --background-dot-color: white;
  }
  &.colorful {
    --background-dot-color: black;
    --background-overlay: linear-gradient(135deg, #{$rainbow-colors});
    --background-blend-mode: lighten;
    --trailing-featured-text-color: transparent;
    --trailing-featured-text-background: linear-gradient(
      135deg,
      #{$rainbow-colors}
    );
    &.dark {
      --background-dot-color: white;
      --background-color: #{$blue-sky-dark};
      --background-blend-mode: darken;
      --background: linear-gradient(135deg, #{$sky-colors});
    }
  }
  @include dot-background(
    var(--background-overlay),
    var(--background),
    var(--background-blend-mode),
    var(--background-dot-color)
  );
  h1 span:first-child,
  p {
    background: var(--trailing-featured-text-background);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: var(--trailing-featured-text-color);
  }
  background-color: var(--background-color);
  color: var(--text-color);
  z-index: 1;
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  @extend %AppSkew;
  h1 {
    font-size: clamp(1em, 18vw, #{$heading-font-size});
  }
  p {
    // $text-gradient: linear-gradient(135deg, $rainbow-colors);
    // @include text-gradient($text-gradient);
    a {
      -webkit-text-fill-color: var(--anchor-tag-color);
      // -webkit-text-fill-color: white;
      opacity: 0.85;
      transition: 0.25s ease opacity;
      &:hover {
        opacity: 1;
      }
    }
    br {
      display: inline;
      content: ' ';
      padding-right: 1ch;
      @include screen {
        display: initial;
        content: initial;
        padding-right: initial;
      }
    }
  }
}

.content {
  max-width: $container-width;
  padding: 0 1em;
}
